<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dr. M. Babar Imran Thyroid Specialist</title>
    <!-- css bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!--icon-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <!-- font icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!-- css file -->
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <!-- nav bar -->
    <section class="sticky-top">

        <nav class="navbar navbar-expand-lg navbar-custom">
            <div class="container">
                <img src="images/Logo.png" alt="Dr. M. Babar Imran Thyroid Specialist" class="navbar-logo">
                <button class="navbar-toggler bg-primary border-0 " type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse ps-5 ms-5" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto justify-content-center align-items-center gap-1 mb-2 mb-lg-0">
                        <li class="nav-item"><a class="active text-info nav-link ps-3" aria-current="page" href="#Home">HOME</a></li>
                        <li class="nav-item"><a class="nav-link ps-3" href="#About">ABOUT</a></li>
                        <li class="nav-item"><a class="nav-link ps-3" href="#Highlights">HIGHLIGHTS</a></li>
                        <li class="nav-item"><a class="nav-link ps-3" href="#OurServices">SERVICES</a></li>
                        <li class="nav-item"><a class="nav-link ps-3" href="#Availability">AVAILABILITY</a></li>
                        <li class="nav-item"><a class="nav-link ps-3" href="#Feedback">FEEDBACK</a></li>
                        <!-- <li class="nav-item"><a class="nav-link ps-3" href="#Blog">ARTICLES</a></li> -->
                        <li class="nav-item"><a class="nav-link ps-3" href="#ContactUs">CONTACT</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </section>
    <!-- end nav bar -->
    <!-- home -->
    <section class="home" id="Home">
        <div class="home1 d-flex align-items-center">
            <div class="container mt-5 pt-5">
                <div class="home2 row ">
                    <div class="col-lg-12 mt-5 text-light">
                        <h1 class="fw-bold">Dr. Muhammad Babar Imran (TI)</h1>
                        <h2 class="fw-bold text-info mb-3">⁄àÿß⁄©Ÿπÿ± ŸÖÿ≠ŸÖÿØ ÿ®ÿßÿ®ÿ± ÿπŸÖÿ±ÿßŸÜ ÿ™⁄æÿßÿ¶€åÿ±ÿßÿ¶€å⁄à ÿßÿ≥Ÿæ€åÿ¥ŸÑÿ≥Ÿπ</h2>
                        <h3 class="fw-bold text-info mb-3">Thyroid Specialist</h3>
                        <p class="mt-3 mb-5 fs-5 text-justify">
                            <i class="bi bi-geo-alt-fill text-info me-2"></i>MAQSOODA ZIA HOSPITAL<br>
                            <span class="ms-4">Near Allied Chowk, Main Sargodha Road,</span><br>
                            <span class="ms-4">Opp Crescent Textile Mills, Faisalabad</span>
                        </p>
                        
                        <div class="mt-5 pt-5 pb-5">
                            <a class="main_btn mr-10 text-decoration-none border-info rounded-1 pt-3 pb-3  ps-4 pe-4"
                                href="#ContactUs">Contact</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end home -->
    
    <!-- Animated Contact Section -->
    <section class="animated-contact py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="contact-box whatsapp-box">
                        <div class="contact-content">
                            <div class="contact-text">
                                <h5 class="contact-title">Contact Email üìß</h5>
                                <p class="contact-subtitle">For inquiries and appointments</p>
                            </div>
                            <div class="contact-icon">
                                <i class="bi bi-envelope-fill"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="contact-box whatsapp-box">
                        <div class="contact-content">
                            <div class="contact-text">
                                <h5 class="contact-title">WhatsApp</h5>
                                <p class="contact-number">03001551966</p>
                            </div>
                            <div class="contact-icon">
                                <i class="bi bi-whatsapp"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="contact-box appointment-box">
                        <div class="contact-content">
                            <div class="contact-text">
                                <h5 class="contact-title">For Appointment First Contact</h5>
                                <p class="contact-number">041-8785136</p>
                            </div>
                            <div class="contact-icon">
                                <i class="bi bi-calendar-check"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="contact-box testimonials-box">
                        <div class="contact-content">
                            <div class="contact-text">
                                <h5 class="contact-title">Patient Testimonials - Landline</h5>
                                <p class="contact-subtitle">Available for patient feedback</p>
                            </div>
                            <div class="contact-icon">
                                <i class="bi bi-telephone"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end animated contact -->
    
    <!-- About Section -->
    <section id="About" class="about-section py-5">
        <div class="container">
            <div class="row align-items-stretch g-0">
                <!-- Image and Stats - Left Half -->
                <div class="col-lg-6 reveal">
                    <div class="about-image-panel h-100 d-flex flex-column">
                        <div class="image-container flex-grow-1 d-flex align-items-center justify-content-center">
                            <img src="images/About.jpeg" alt="About Dr. M. Babar Imran" class="img-fluid about-image-large">
                        </div>
                        <div class="about-stats-large mt-4 text-light p-4 rounded">
                            <div class="row text-center">
                                <div class="col-6">
                                    <div class="display-4 fw-bold">150+</div>
                                    <div class="fs-5">Trusted Care</div>
                                </div>
                                <div class="col-6">
                                    <div class="display-4 fw-bold">15</div>
                                    <div class="fs-5">Patient Testimonials</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Text Content - Right Half -->
                <div class="col-lg-6 reveal">
                    <div class="about-text-panel h-100 d-flex flex-column justify-content-center">
                        <div class="text-center mb-4">
                            <h2 class="fw-bold">Dr. Muhammad Babar Imran (TI)</h2>
                        </div>
                        <div class="about-content">
                            <p class="about-text mb-3">
                                Dr. M. Babar Imran (Tamgh e Imtiaz) is a highly accomplished Thyroid Specialist with a distinguished career spanning clinical practice, research, and medical education. Holding a PhD in Nuclear Medicine with postdoctoral fellowships in Japan and Italy, he has contributed significantly to the field, with over 120 impact factor publications and an H-index of more than 25. His expertise covers thyroid disorders, Nuclear Medicine, and Theranostics. Dr. Imran has held leadership roles, including Director at PINUM Cancer Hospital and Head of Department at PIEAS University, and serves as Chief Editor of European Journal of Medical Case Reports and Pakistan Journal of Nuclear Medicine. Honored with multiple national and international awards, including the Tamgha-e-Imtiaz, he is also a faculty member and examiner for the College of Physicians and Surgeons and prestigious Asian Nuclear Medicine Boards.
                            </p>
                            <p class="about-text urdu mb-0">
                                ⁄àÿß⁄©Ÿπÿ± ŸÖÿ≠ŸÖÿØ ÿ®ÿßÿ®ÿ± ÿπŸÖÿ±ÿßŸÜ (ÿ™ŸÖÿ∫€Å ÿßŸÖÿ™€åÿßÿ≤) ÿ™⁄æÿßÿ¶€åÿ±ÿßÿ¶€å⁄à ⁄©€í ÿß€å⁄© ŸÖÿß€Åÿ± ⁄àÿß⁄©Ÿπÿ± €Å€å⁄∫ ÿ¨ŸÜ ⁄©ÿß ⁄©ŸÑ€åŸÜ⁄©ŸÑ Ÿæÿ±€å⁄©Ÿπÿ≥ÿå ÿ™ÿ≠ŸÇ€åŸÇ ÿßŸàÿ± ÿ∑ÿ®€å ÿ™ÿπŸÑ€åŸÖ Ÿæÿ± ŸÖÿ≠€åÿ∑ ÿß€å⁄© ŸÖŸÖÿ™ÿßÿ≤ ⁄©€åÿ±€åÿ¶ÿ± €Å€í€î ÿ¨ÿßŸæÿßŸÜ ÿßŸàÿ± ÿßŸπŸÑ€å ŸÖ€å⁄∫ ŸæŸàÿ≥Ÿπ ⁄àÿß⁄©Ÿπÿ±€åŸπ ŸÅ€åŸÑŸàÿ¥Ÿæÿ≥ ⁄©€í ÿ≥ÿßÿ™⁄æ ŸÜ€åŸà⁄©ŸÑ€åÿ¶ÿ± ŸÖ€å⁄à€åÿ≥ŸÜ ŸÖ€å⁄∫ Ÿæ€å ÿß€å⁄Ü ⁄à€å ⁄©€å ⁄à⁄Øÿ±€å ÿ≠ÿßÿµŸÑ ⁄©€å€î
                                ÿßŸÜ€ÅŸà⁄∫ ŸÜ€í 100 ÿ≥€í ÿ≤€åÿßÿØ€Å ÿßŸÖŸæ€å⁄©Ÿπ ŸÅ€å⁄©Ÿπÿ± Ÿæÿ®ŸÑ€å⁄©€åÿ¥ŸÜÿ≤ /ÿ™ÿ≠ŸÇ€åŸÇ€å ŸÖŸÇÿßŸÑ€Å ÿ¨ÿßÿ™ ŸÑ⁄©⁄æ€í €î
                                ⁄àÿß⁄©Ÿπÿ± ŸÖÿ≠ŸÖÿØ ÿ®ÿßÿ®ÿ± ÿπŸÖÿ±ÿßŸÜ ŸÜ€í PINUM ⁄©€åŸÜÿ≥ÿ± €Åÿ≥Ÿæÿ™ÿßŸÑ ŸÖ€å⁄∫ ⁄àÿßÿ¶ÿ±€å⁄©Ÿπÿ± ÿßŸàÿ± PIEAS €åŸàŸÜ€åŸàÿ±ÿ≥Ÿπ€å ŸÖ€å⁄∫ ÿ¥ÿπÿ®€Å ⁄©€í ÿ≥ÿ±ÿ®ÿ±ÿß€Å ⁄©€í ÿ∑Ÿàÿ± Ÿæÿ± ÿÆÿØŸÖÿßÿ™ ÿ≥ÿ± ÿßŸÜÿ¨ÿßŸÖ ÿØ€å €Å€å⁄∫ €î
                                ⁄àÿß⁄©Ÿπÿ± ÿµÿßÿ≠ÿ® €åŸàÿ±Ÿæ€å ÿ¨ÿ±ŸÜŸÑ ÿ¢ŸÅ ŸÖ€å⁄à€å⁄©ŸÑ ⁄©€åÿ≥ ÿ±ŸæŸàÿ±Ÿπÿ≥ EJMCR ÿßŸàÿ± Ÿæÿß⁄©ÿ≥ÿ™ÿßŸÜ ÿ¨ÿ±ŸÜŸÑ ÿ¢ŸÅ ŸÜ€åŸà⁄©ŸÑ€åÿ¶ÿ± ŸÖ€å⁄à€åÿ≥ŸÜ PJNM⁄©€í ⁄Ü€åŸÅ ÿß€å⁄à€åŸπÿ± ⁄©€í ÿ∑Ÿàÿ± Ÿæÿ± ÿßŸæŸÜÿß ⁄©ÿ±ÿØÿßÿ± ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫€î
                                ⁄àÿß⁄©Ÿπÿ± ÿµÿßÿ≠ÿ® ⁄©Ÿà ÿµÿØÿßÿ±ÿ™€å ÿ™ŸÖÿ∫€Å ÿßŸÖÿ™€åÿßÿ≤ ÿ≥ŸÖ€åÿ™ ŸÖÿ™ÿπÿØÿØ ŸÇŸàŸÖ€å ÿßŸàÿ± ÿ®€åŸÜ ÿßŸÑÿßŸÇŸàÿßŸÖ€å ÿßÿπÿ≤ÿßÿ≤ÿßÿ™ ÿ≥€í ŸÜŸàÿßÿ≤ÿß ⁄Ø€åÿßÿå Ÿà€Å ⁄©ÿßŸÑÿ¨ ÿ¢ŸÅ ŸÅÿ≤€åÿ¥ŸÜÿ≤ ÿß€åŸÜ⁄à ÿ≥ÿ±ÿ¨ŸÜÿ≤ ÿßŸàÿ± ŸÖŸÖÿ™ÿßÿ≤ ÿß€åÿ¥€åŸÜ ŸÜ€åŸà⁄©ŸÑ€åÿ¶ÿ± ŸÖ€å⁄à€åÿ≥ŸÜ ÿ®Ÿàÿ±⁄àÿ≤ ⁄©€í ŸÅ€å⁄©ŸÑŸπ€å ŸÖŸÖÿ®ÿ± ÿßŸàÿ± ŸÖŸÖÿ™ÿ≠ŸÜ ÿ®⁄æ€å €Å€å⁄∫€î
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End About Section -->
    
    <!-- Doctor Section -->
    <section class="myself pad_bottom pt-5 pb-5" id="Doctor">
        <div class="container bg-light">
            <div class="row">
                <!-- Text Content - Left Side -->
                <div class="col-lg-6 pl-0 ps-5 pe-5">
                    <div class="about">
                        <div class="about1 text-left">
                            <div class="section-pretitle will-animate">About</div>
                            <h1 class="pt-1 doctor-title will-animate">Dr. Muhammad Babar Imran (tamgha e imtiaz)</h1>
                            <p class="pt-2 pb-1 text-secondary">
                                Dr. M. Babar Imran (Tamgh e Imtiaz) is a highly accomplished Thyroid Specialist with a distinguished career spanning clinical practice, research, and medical education. Holding a PhD in Nuclear Medicine with postdoctoral fellowships in Japan and Italy, he has contributed significantly to the field, with over 120 impact factor publications and an H-index of more than 25. His expertise covers thyroid disorders, Nuclear Medicine, and Theranostics. Dr. Imran has held leadership roles, including Director at PINUM Cancer Hospital and Head of Department at PIEAS University, and serves as Chief Editor of European Journal of Medical Case Reports and Pakistan Journal of Nuclear Medicine. Honored with multiple national and international awards, including the Tamgha-e-Imtiaz, he is also a faculty member and examiner for the College of Physicians and Surgeons and prestigious Asian Nuclear Medicine Boards.
                            </p>
                        </div>
                        <div class="activity text-center">
                            <div class="row">
                                <div class="col-lg-5 col-md-5 ms-2 me-2 mt-2 mb-2 border shadow">
                                    <div class="activity_box will-animate">
                                        <div class="pt-1 pb-1 text-info">
                                            <i class="bi bi-building display-5"></i>
                                        </div>
                                        <h3>Director of PINUM</h3>
                                        <p>since 2018</p>
                                    </div>
                                </div>
                                <div class="col-lg-5 col-md-5 ms-2 me-2 mt-2 mb-2 border shadow">
                                    <div class="activity_box will-animate">
                                        <div class="pt-1 pb-1 text-info">
                                            <i class="bi bi-journal-text display-5"></i>
                                        </div>
                                        <h3><span class="counter" data-target="100">0</span>+</h3>
                                        <p>publications</p>
                                    </div>
                                </div>
                                <div class="col-lg-5 col-md-5 border ms-2 me-2 mt-2 mb-2 shadow">
                                    <div class="activity_box will-animate">
                                        <div class="pt-1 pb-1 text-info">
                                            <i class="bi bi-heart-pulse display-5"></i>
                                        </div>
                                        <h3><span class="counter" data-target="100">0</span>+</h3>
                                        <p>patients per day</p>
                                    </div>
                                </div>
                                <!-- <div class="col-lg-5 col-md-5 ms-2 me-2 mt-2 mb-2 border shadow">
                                    <div class="activity_box will-animate">
                                        <div class="pt-1 pb-1 text-info">
                                            <i class="bi bi-file-earmark-text display-5 pt-1 pb-1"></i>
                                        </div>
                                        <h3><span class="counter" data-target="150">0</span>+</h3>
                                        <p>Articles</p>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Image - Right Side -->
                <div class="col-lg-6 pe-0 d-flex doctor-image-col">
                    <div class="about_img flex-fill">
                        <img class="img-fluid w-100 h-100" src="images/Doctor_image.png" alt="Dr. Muhammad Babar Imran">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Doctor Section -->

    <!-- Highlights Section -->
    <section id="Highlights" class="py-5 reveal" style="background: #ffffff;">
        <div class="container">
            <div class="row justify-content-center text-center mb-5">
                <div class="col-lg-10">
                    <h2 class="fw-bold text-dark mb-3 will-animate">Highlights</h2>
                    <div class="highlight-decoration-new will-animate">
                        <div class="decorative-elements">
                            <div class="floating-icon"><i class="bi bi-camera text-info"></i></div>
                            <div class="floating-icon delay-1"><i class="bi bi-images text-success"></i></div>
                            <div class="floating-icon delay-2"><i class="bi bi-play-circle text-warning"></i></div>
                        </div>
                        <div class="animated-line"></div>
                        <p class="user-instruction text-muted mt-2">
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div id="highlightsCarousel" class="carousel slide highlights-carousel will-animate" data-bs-ride="carousel" data-bs-interval="3000">
                        <div class="carousel-indicators custom-indicators">
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="6" aria-label="Slide 7"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="7" aria-label="Slide 8"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="8" aria-label="Slide 9"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="9" aria-label="Slide 10"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="10" aria-label="Slide 11"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="11" aria-label="Slide 12"></button>
                            <button type="button" data-bs-target="#highlightsCarousel" data-bs-slide-to="12" aria-label="Slide 13"></button>
                        </div>
                        
                        <div class="carousel-inner">
                            <!-- Image 1 -->
                            <div class="carousel-item active">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_1.png" class="highlight-image-clean" alt="Medical Highlight 1">
                                </div>
                            </div>
                            
                            <!-- Image 2 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_2.png" class="highlight-image-clean" alt="Medical Highlight 2">
                                </div>
                            </div>
                            
                            <!-- Image 3 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_3.png" class="highlight-image-clean" alt="Medical Highlight 3">
                                </div>
                            </div>
                            
                            <!-- Image 4 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_4.png" class="highlight-image-clean" alt="Medical Highlight 4">
                                </div>
                            </div>
                            
                            <!-- Image 5 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_5.png" class="highlight-image-clean" alt="Medical Highlight 5">
                                </div>
                            </div>
                            
                            <!-- Image 6 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_6.jpeg" class="highlight-image-clean" alt="Medical Highlight 6">
                                </div>
                            </div>
                            
                            <!-- Image 7 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_7.png" class="highlight-image-clean" alt="Medical Highlight 7">
                                </div>
                            </div>
                            
                            <!-- Image 8 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_8.jpeg" class="highlight-image-clean" alt="Medical Highlight 8">
                                </div>
                            </div>
                            
                            <!-- Image 9 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_9.jpeg" class="highlight-image-clean" alt="Medical Highlight 9">
                                </div>
                            </div>
                            
                            <!-- Image 10 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_10.jpeg" class="highlight-image-clean" alt="Medical Highlight 10">
                                </div>
                            </div>
                            
                            <!-- Image 11 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_11.png" class="highlight-image-clean" alt="Medical Highlight 11">
                                </div>
                            </div>
                            
                            <!-- Image 12 -->
                            <div class="carousel-item">
                                <div class="highlight-slide-clean">
                                    <img src="images/Highlights/Image_12.jpeg" class="highlight-image-clean" alt="Medical Highlight 12">
                                </div>
                            </div>
                            
                            <!-- Video - Image 13 -->
                            <div class="carousel-item" data-bs-interval="35000">
                                <div class="highlight-slide-clean">
                                    <video class="highlight-video-clean" controls preload="metadata" loop muted>
                                        <source src="images/Highlights/Image_13.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                        </div>
                        
                        <button class="carousel-control-prev" type="button" data-bs-target="#highlightsCarousel" data-bs-slide="prev">
                            <span class="custom-carousel-prev" aria-hidden="true">
                                <i class="bi bi-chevron-left fs-3"></i>
                            </span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        
                        <button class="carousel-control-next" type="button" data-bs-target="#highlightsCarousel" data-bs-slide="next">
                            <span class="custom-carousel-next" aria-hidden="true">
                                <i class="bi bi-chevron-right fs-3"></i>
                            </span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Services (Dual Image Panels) -->
    <section id="OurServices" class="services-dual-section py-5 reveal">
        <div class="container">
            <div class="row justify-content-center text-center mb-4">
                <div class="col-lg-10">
                    <h2 class="fw-bold">Our Services</h2>
                    <p class="lead text-dark mt-2 fw-bold">We provide comprehensive medical services, meticulously tailored to address your health needs and ensure your overall well-being.</p>
                </div>
            </div>
            <div class="services-scroll-container">
                <!-- Left Arrow -->
                <button class="scroll-arrow scroll-arrow-left" id="scrollLeft">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <!-- Right Arrow -->
                <button class="scroll-arrow scroll-arrow-right" id="scrollRight">
                    <i class="bi bi-chevron-right"></i>
                </button>
                <div class="services-scroll-wrapper" id="servicesScrollWrapper">
                    <!-- Service Panel 1 -->
                    <div class="service-panel-item">
                        <div class="service-panel h-100">
                            <div class="service-image" style="background-image: url('images/Service_Image_1.png');"></div>
                            <div class="service-content">
                                <h3 class="service-title">Specialized Treatments</h3>
                                <p class="service-text">Dr. M. Babar Imran (Tamgh e Imtiaz) is a highly accomplished Thyroid Specialist with a distinguished career spanning clinical practice, research, and medical education. Holding a PhD in Nuclear Medicine with postdoctoral fellowships in Japan and Italy, he has contributed significantly to the field, with over 120 impact factor publications and an H-index of more than 25. His expertise covers thyroid disorders, Nuclear Medicine, and Theranostics. Dr. Imran has held leadership roles, including Director at PINUM Cancer Hospital and Head of Department at PIEAS University, and serves as Chief Editor of European Journal of Medical Case Reports and Pakistan Journal of Nuclear Medicine. Honored with multiple national and international awards, including the Tamgha-e-Imtiaz, he is also a faculty member and examiner for the College of Physicians and Surgeons and prestigious Asian Nuclear Medicine Boards.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Service Panel 2 -->
                    <div class="service-panel-item">
                        <div class="service-panel h-100">
                            <div class="service-image" style="background-image: url('images/Service_Image_2.png');"></div>
                            <div class="service-content">
                                <h3 class="service-title">Nuclear Medicine Treatment</h3>
                                <p class="service-text">Nuclear medicine treatment for thyroid cancer primarily involves radioactive iodine (RAI) therapy (I-131), which selectively destroys thyroid cancer cells by emitting radiation. It is commonly used after thyroidectomy to eliminate remaining thyroid tissue and reduce recurrence risk. Patients may undergo thyroid hormone withdrawal or receive Thyrogen injections to enhance iodine absorption. While effective, RAI therapy can have side effects like dry mouth, fatigue, and temporary fertility issues. Other nuclear medicine approaches, such as Lutetium-177 and PET-CT imaging, are emerging for advanced or iodine-resistant thyroid cancers, improving targeted treatment options.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Service Panel 3 - Nuclear Medicine Treatments -->
                    <div class="service-panel-item">
                        <div class="service-panel h-100">
                            <div class="service-image" style="background-image: url('images/Service_Image_3.png');"></div>
                            <div class="service-content">
                                <h3 class="service-title">Nuclear Medicine Treatments</h3>
                                <p class="service-text">Expert care in various specialties to ensure optimal health outcomes for our patients. We offer advanced Nuclear Medicine treatments that combine precision diagnostics with effective therapies. Our expert care covers a wide range of specialties, focusing on accurate detection and personalized treatment plans. These services are designed to improve patient outcomes by targeting diseases at their root cause. With cutting-edge technology and specialist expertise, we ensure the highest standards of care for every patient.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Service Panel 4 - General Consultations -->
                    <div class="service-panel-item">
                        <div class="service-panel h-100">
                            <div class="service-image" style="background-image: url('images/Service_Image_4.png');"></div>
                            <div class="service-content">
                                <h3 class="service-title">General Consultations</h3>
                                <p class="service-text">Personalized assessments and treatment plans to address your health concerns effectively. Our general consultations provide personalized assessments to understand your unique health concerns. We focus on creating tailored treatment plans that meet your specific needs and lifestyle. Through careful evaluation and expert guidance, we aim to address health issues effectively and promptly. With a patient-centered approach, we ensure you receive the right care for lasting well-being.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Our Services -->

    <!-- Availability Section -->
    <section id="Availability" class="availability-section py-5 bg-white reveal">
        <div class="container">
            <div class="row justify-content-center text-center mb-4">
                <div class="col-lg-10">
                    <h2 class="fw-bold">Availability</h2>
                    <p class="lead text-dark mt-2">Clinic timing and locations</p>
                </div>
            </div>
            <div class="row g-4">
                <!-- Left: Maqsooda Zia Hospital -->
                <div class="col-lg-6">
                    <div class="availability-card will-animate p-4 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-geo-alt-fill text-info fs-4"></i>
                                <h3 class="m-0">Maqsooda Zia Hospital</h3>
                            </div>
                            <a id="mzLocationLink" class="btn btn-sm btn-outline-info" target="_blank" rel="noopener">Location</a>
                        </div>
                        <ul id="mzWeeklyList" class="list-group list-group-flush availability-list"></ul>
                        <div class="mt-4">
                            <h6 class="text-uppercase text-muted mb-2">Special Dates</h6>
                            <ul id="mzExceptions" class="list-group list-group-flush availability-ex"></ul>
                        </div>
                    </div>
                </div>
                <!-- Right: PINUM Hospital -->
                <div class="col-lg-6">
                    <div class="availability-card will-animate p-4 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-hospital text-info fs-4"></i>
                                <h3 class="m-0">PINUM Hospital</h3>
                            </div>
                            <a id="pinumLocationLink" class="btn btn-sm btn-outline-info" target="_blank" rel="noopener">Location</a>
                        </div>
                        <ul id="pinumWeeklyList" class="list-group list-group-flush availability-list"></ul>
                        <div class="mt-4">
                            <h6 class="text-uppercase text-muted mb-2">Special Dates</h6>
                            <ul id="pinumExceptions" class="list-group list-group-flush availability-ex"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Availability Section -->

    <!-- Enhanced Availability Toast (shows when user hovers the section) -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080;">
        <div id="availabilityToast" class="toast availability-toast border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header availability-toast-header">
                <i class="bi bi-clock-fill text-info me-2"></i>
                <strong class="me-auto">Clinic Status</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body availability-toast-body" id="availabilityToastBody">
                <!-- filled by JS -->
            </div>
        </div>
    </div>

    <!-- feedback -->
    <section class="feedback bg-light pt-5 pb-5" id="Feedback">
        <div class="container pt-5 pb-5">
            <div class="row justify-content-center text-center will-animate">
                <div class="col-12">
                    <h2 class="fw-bold mb-1">Feedback</h2>
                    <p class="text-secondary mb-3">Hear from our satisfied patients about their experiences with us.</p>
                    <button class="btn btn-info text-white add-review-btn" data-bs-toggle="modal" data-bs-target="#addReviewModal">Add New Feedback</button>
                </div>
            </div>

            <div class="reviews-scroll-container mt-4">
                <div class="reviews-scroll-wrapper" id="reviewsScrollWrapper">
                </div>
            </div>
            
            <!-- Load More Reviews Button -->
            <div class="text-center mt-4">
                <button class="btn btn-outline-info load-more-btn" id="loadMoreReviews" style="display: none;">
                    <i class="bi bi-arrow-down-circle me-2"></i>
                    Load More Reviews
                    <span class="reviews-count-badge ms-2">0</span>
                </button>
                <div class="mt-2">
                    <small class="text-muted" id="reviewsLoadingText">Loading reviews...</small>
                    <div class="loading-spinner" id="reviewsLoadingSpinner" style="display: none;">
                        <div class="spinner-border spinner-border-sm text-info" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <span class="ms-2">Loading more reviews...</span>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <!-- end feedback -->

    <!-- Contact Success Modal -->
    <div class="modal fade" id="contactSuccessModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Message sent</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Your message is sent. We will contact you back soon.
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-info text-white" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Toasts -->
    <div class="position-fixed top-0 end-0 p-3" style="z-index: 1100;">
        <!-- Feedback Success Toast -->
        <div id="feedbackSuccessToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <strong class="me-auto">Feedback Submitted</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Thank you for your feedback!
            </div>
        </div>

        <!-- Feedback Error Toast -->
        <div id="feedbackErrorToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-danger text-white">
                <strong class="me-auto">Feedback Error</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                <span id="feedbackErrorMessage">An error occurred while submitting feedback.</span>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div class="modal fade" id="addReviewModal" tabindex="-1" aria-labelledby="addReviewModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addReviewModalLabel">Add New Feedback</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="feedbackForm">
                        <div class="mb-3">
                            <label for="feedbackName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="feedbackName" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackLocation" class="form-label">Location</label>
                            <input type="text" class="form-control" id="feedbackLocation" name="location" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Rating</label>
                            <select class="form-select" name="rating" required>
                                <option value="3.0">3.0</option>
                                <option value="3.5">3.5</option>
                                <option value="4.0">4.0</option>
                                <option value="4.5">4.5</option>
                                <option value="5.0" selected>5.0</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackMessage" class="form-label">Feedback Message</label>
                            <textarea class="form-control" id="feedbackMessage" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-info text-white w-100">Submit Feedback</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- contact quick -->
    <section class="appointment pt-4 pb-4 contact-quick" id="ContactUs">
        <div class="container">
            <!-- Contact form first (centered) -->
            <div class="row justify-content-center g-4">
                <div class="col-lg-8 col-md-10 bg-white shadow rounded-3">
                    <div class="p-3 p-md-4">
                        <form id="contactForm">
                            <h3 class="text-center mb-3">Send us a message</h3>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="name" placeholder="Your Name" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="tel" class="form-control" name="phone" placeholder="Phone Number" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="email" class="form-control" name="email" placeholder="Your Email" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="location" placeholder="Your Location">
                                </div>
                                <div class="col-12">
                                    <textarea class="form-control" name="message" rows="5" placeholder="Your Message" required></textarea>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button type="submit" class="main_btn text-uppercase pt-2 pb-2 ps-4 pe-4">Send Message</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Small colored contact boxes below form -->
            <div class="row justify-content-center g-2 mt-2">
                <div class="col-lg-8 col-md-10">
                    <div class="d-grid gap-2">
                        <a class="mini-contact whatsapp" href="https://wa.me/923437898153?text=Hello%20Doctor%2C%20I%20would%20like%20to%20contact%20you." target="_blank" rel="noopener"><span><i class="bi bi-whatsapp me-2"></i>WhatsApp</span><span>+92 343 7898153</span></a>
                        <a class="mini-contact phone" href="tel:+923131759015"><span><i class="bi bi-telephone-fill me-2"></i>Call</span><span>+92 313 1759015</span></a>
                        <a class="mini-contact email" href="mailto:abdullah733gb@gmail.com?subject=Inquiry&body=Hello%2C%20I%20would%20like%20to%20get%20in%20touch."><span><i class="bi bi-envelope-fill me-2"></i>Email</span><span>abdullah733gb@gmail.com</span></a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end contact quick -->
    

    
    <!-- Articles Information -->
    <!-- <section class="articles mt-5 mb-5 pt-5 pb-5" id="Blog">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="B1 col-lg-12">
                    <h1 class="pt-4">Articles Information</h1>
                    <p class="pt-3 pb-3 text-center mx-auto" style="max-width: 800px;">
                        Explore our collection of informative articles about thyroid health and related medical topics.
                    </p>
                </div>
            </div>
             -->
            <!-- Articles Slider Container -->
            <!-- <div class="articles-slider-container position-relative"> -->
                <!--- Left Side Navigation -->
                <!-- <div class="article-nav-left">
                    <button class="article-arrow article-arrow-left" id="articleScrollLeft">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                </div> -->
                <!-- Right Side Navigation -->
                <!-- <div class="article-nav-right">
                    <button class="article-arrow article-arrow-right" id="articleScrollRight">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                </div>
                 -->
                <!-- Additional Navigation Buttons Inside Slider -->
                <!-- <div class="article-nav-internal">
                    <button class="article-btn article-btn-prev" id="articlePrevBtn" title="Previous Articles">
                        <i class="bi bi-arrow-left-circle-fill"></i>
                        <span>Previous</span>
                    </button>
                    <button class="article-btn article-btn-next" id="articleNextBtn" title="Next Articles">
                        <span>Next</span>
                        <i class="bi bi-arrow-right-circle-fill"></i>
                    </button>
                </div>
                 -->
                <!-- Auto-advance Progress Indicator -->
                <!-- <div class="article-progress-container">
                    <div class="article-progress-bar" id="articleProgressBar"></div>
                    <div class="article-progress-text">Auto-advance in <span id="articleCountdown">5</span>s</div>
                </div>
                
                <div class="articles-slider-wrapper" id="articlesSliderWrapper"> -->
                    <!-- Article 1 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xb1.jpg.pagespeed.ic.wPUMm-P7hw.webp" alt="Thyroid Cancer and Heart Disease">
                                <div class="article-overlay">
                                    <h4 class="article-title">Thyroid Cancer and Heart Disease</h4>
                                </div>
                            </div>
                            <div class="article-content">
                                <p class="article-text">
                                    Recent research has uncovered significant connections between thyroid cancer and heart disease. Thyroid hormones play a crucial role in cardiovascular function, and disruptions can lead to various heart conditions.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> Sarah Johnson
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 10/15/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/thyroid-cancer-article" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                     -->
                    <!-- Article 2 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xb2.jpg.pagespeed.ic.9d6gO-IS1Q.webp" alt="Hypothyroidism Treatment">
                                <div class="article-overlay">
                                    <h4 class="article-title">Hypothyroidism Treatment</h4>
                                </div>
                            </div>
                            <div class="article-content">
                                <p class="article-text">
                                    Advances in hypothyroidism treatment have shown promising results for patients with long-term conditions. New approaches focus on personalized medicine and addressing individual patient needs.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> Michael Roberts
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 08/22/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/hypothyroidism-treatment" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                     -->
                    <!-- Article 3 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xb3.jpg.pagespeed.ic.ycNs_Tfir0.webp" alt="Understanding Thyroid Conditions">
                                <div class="article-overlay">
                                    <h4 class="article-title">Understanding Thyroid Conditions</h4>
                                </div>
                            </div>
                            <div class="article-content">
                                <p class="article-text">
                                    A comprehensive guide to understanding various thyroid conditions, their symptoms, and treatment options. Learn about hyperthyroidism, hypothyroidism, and thyroid nodules.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> Amina Khan
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 06/10/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/understanding-thyroid-conditions" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                     -->
                    <!-- Article 4 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xp1.jpg.pagespeed.ic.H2iNAI0AS3.webp" alt="Thyroid Diagnosis">
                                <div class="article-overlay">
                                    <h4 class="article-title">Advances in Thyroid Diagnosis</h4>
                                </div>
                            </div>
                            <div class="article-content">
                                <p class="article-text">
                                    New diagnostic techniques are improving the accuracy of thyroid condition identification. This article explores the latest methods and technologies being used to detect thyroid disorders at earlier stages.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> David Chen
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 05/03/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/advances-in-thyroid-diagnosis" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                     -->
                    <!-- Article 5 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xp2.jpg.pagespeed.ic.NTVDNHoEHM.webp" alt="Thyroid and Pregnancy">
                                <div class="article-overlay">
                                    <h4 class="article-title">Thyroid Health During Pregnancy</h4>
                                </div>
                            </div>
                            <div class="article-content">
                                <p class="article-text">
                                    Managing thyroid health during pregnancy is crucial for both mother and baby. This article discusses the importance of thyroid function monitoring and treatment adjustments during this critical period.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> Fatima Ahmed
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 03/18/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/thyroid-health-during-pregnancy" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                     -->
                    <!-- Article 6 -->
                    <!-- <div class="article-slide">
                        <div class="article-card">
                            <div class="article-image">
                                <img class="img-fluid w-100" src="images/xp3.jpg.pagespeed.ic.QlSGq7ZihA.webp" alt="Nutrition and Thyroid">
                                <div class="article-overlay">
                                    <h4 class="article-title">Nutrition and Thyroid Health</h4>
                                </div> -->
                            <!-- </div>
                            <div class="article-content">
                                <p class="article-text">
                                    The role of nutrition in maintaining thyroid health is often underestimated. This article examines key nutrients that support thyroid function and dietary recommendations for patients with various thyroid conditions.
                                </p>
                                <div class="article-meta d-flex justify-content-between align-items-center">
                                    <div class="article-author">
                                        <i class="bi bi-person-circle"></i> James Wilson
                                    </div>
                                    <div class="article-date">
                                        <i class="bi bi-calendar3"></i> 02/05/2023
                                    </div>
                                </div>
                                <a href="https://muhammadbabarimran.com/nutrition-and-thyroid-health" target="_blank" class="btn btn-info text-white mt-3">Read More</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </section> -->
    <!-- End Articles Section -->
    
    <!-- footer -->
    <footer class="footer  pt-3 pb-3 bg-dark" id="Contact">
        <div class="container pt-5 pb-5 mt-5 mb-3">
            <div class="row justify-content-center">
                <div class="col-lg-8 col-md-10 text-center">
                    <div class="footer1 mail-chimp">
                        <h6 class="mb-4 text-light">Contact Information</h6>
                        <p class="pt-2 pb-1 text-secondary">
                            MAQSOODA ZIA HOSPITAL<br>
                            Near Allied Chowk, Main Sargodha Road,<br>
                            Opp Crescent Textile Mills, Faisalabad
                        </p>
                        <div class="contact-info mt-4">
                            <h5 class="text-light mb-2"><i class="bi bi-whatsapp me-2"></i>03001551966</h5>
                            <h5 class="text-light mb-2"><i class="bi bi-telephone-fill me-2"></i>041-8785136</h5>
                            <h5 class="text-light"><i class="bi bi-envelope-fill me-2"></i>babarimran@gmail.com</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row footer-bottom pt-5 mt-5 text-center">
                <div class="col-12">
                    <p class="footer-text m-0 text-light">
                        Copyright ¬©
                        2025 All rights reserved by DR. Imran | This template
                        is made with <i class="bi bi-heart text-info"></i> by <a href="#" class="text-decoration-none text-info">Muhammad Abdullah</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <!-- end footer -->





    <!-- js file -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <!-- Data Management -->
    <script src="js/data.js"></script>

    <!-- Navbar Highlight Script -->
    <script>
        // Function to highlight active navbar link based on scroll position
        function highlightNavbar() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active', 'text-info');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active', 'text-info');
                }
            });
        }
        
        // Add scroll event listener
        window.addEventListener('scroll', highlightNavbar);
        
        // Call function on page load
        document.addEventListener('DOMContentLoaded', highlightNavbar);

        // Reveal on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Animate-on-scroll (will-animate)
        const observer2 = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                }
            });
        }, { threshold: 0.25 });
        document.querySelectorAll('.will-animate').forEach(el => observer2.observe(el));

            // Services Scroll Navigation
        const servicesWrapper = document.getElementById('servicesScrollWrapper');
        const scrollLeftBtn = document.getElementById('scrollLeft');
        const scrollRightBtn = document.getElementById('scrollRight');
        
        if (servicesWrapper && scrollLeftBtn && scrollRightBtn) {
            const scrollAmount = 430; // Width of one service panel + gap
            
            scrollLeftBtn.addEventListener('click', () => {
                servicesWrapper.scrollBy({
                    left: -scrollAmount,
                    behavior: 'smooth'
                });
            });
            
            scrollRightBtn.addEventListener('click', () => {
                servicesWrapper.scrollBy({
                    left: scrollAmount,
                    behavior: 'smooth'
                });
            });
            
            // Hide/show arrows based on scroll position
            function updateArrowVisibility() {
                const { scrollLeft, scrollWidth, clientWidth } = servicesWrapper;
                
                // Hide left arrow if at the beginning
                scrollLeftBtn.style.opacity = scrollLeft <= 0 ? '0.3' : '1';
                scrollLeftBtn.style.pointerEvents = scrollLeft <= 0 ? 'none' : 'auto';
                
                // Hide right arrow if at the end
                const isAtEnd = scrollLeft + clientWidth >= scrollWidth - 5;
                scrollRightBtn.style.opacity = isAtEnd ? '0.3' : '1';
                scrollRightBtn.style.pointerEvents = isAtEnd ? 'none' : 'auto';
            }
            
            // Update arrow visibility on scroll
            servicesWrapper.addEventListener('scroll', updateArrowVisibility);
            
            // Initialize arrow visibility
            updateArrowVisibility();
            
            // Update on window resize
            window.addEventListener('resize', updateArrowVisibility);
        }

        // Add Review form submission + load from frontend data with progressive loading
        (function(){
            const form = document.getElementById('addReviewForm');
            const wrapper = document.getElementById('reviewsScrollWrapper');
            const loadMoreBtn = document.getElementById('loadMoreReviews');
            const loadingText = document.getElementById('reviewsLoadingText');
            const loadingSpinner = document.getElementById('reviewsLoadingSpinner');
            const countBadge = loadMoreBtn ? loadMoreBtn.querySelector('.reviews-count-badge') : null;
            
            if(!wrapper) return;
            
            let allReviews = [];
            let displayedReviews = 0;
            
            // Responsive reviews per load based on screen size
            function getReviewsPerLoad() {
                const width = window.innerWidth;
                if (width >= 1200) return 3; // Desktop: 3 cards per row, load 3
                if (width >= 768) return 2;  // Tablet: 2 cards per row, load 2  
                return 1; // Mobile: 1 card per row, load 1
            }

            function buildStars(rating){
                const r = parseFloat(rating);
                let html = '';
                const full = Math.floor(r);
                const half = r - full >= 0.5 ? 1 : 0;
                for(let i=0;i<full;i++) html += '<i class="bi bi-star-fill"></i>';
                if(half) html += '<i class="bi bi-star-half"></i>';
                for(let i=full+half;i<5;i++) html += '<i class="bi bi-star"></i>';
                return html;
            }

            function renderReview(item, isHidden = false){
                const ratingText = (Number(item.rating)||5).toFixed(1);
                const el = document.createElement('div');
                el.className = `review-item${isHidden ? ' hidden-initially' : ''}`;
                el.innerHTML = `
                    <div class=\"review-card will-animate h-100 text-center\">
                        <div class=\"review-avatar\"><i class=\"bi bi-person-fill\"></i></div>
                        <div class=\"reviewer mt-2\">
                            <div class=\"name fw-bold\">${(item.name||'Anonymous')}</div>
                            <div class=\"location text-secondary\">${(item.location||'')}</div>
                        </div>
                        <div class="rating d-flex align-items-center justify-content-center gap-1 mt-2">
                            <div class="stars" aria-label="${ratingText} out of 5">${buildStars(item.rating)}</div>
                            <div class="rating-number fw-bold text-dark">${ratingText}</div>
                        </div>
                        <p class="review-text mt-3"></p>
                    </div>`;
                el.querySelector('.review-text').textContent = item.text || 'Great experience!';
                return el;
            }
            
            function updateLoadMoreButton() {
                const remainingReviews = allReviews.length - displayedReviews;
                
                if (remainingReviews > 0 && loadMoreBtn) {
                    loadMoreBtn.style.display = 'inline-block';
                    if (countBadge) countBadge.textContent = remainingReviews;
                } else if (loadMoreBtn) {
                    loadMoreBtn.style.display = 'none';
                }
                
                if (loadingText) {
                    if (allReviews.length === 0) {
                        loadingText.textContent = ' ';
                    } else if (displayedReviews >= allReviews.length) {
                        loadingText.textContent = `All ${allReviews.length} reviews loaded`;
                    } else {
                        loadingText.textContent = `Showing ${displayedReviews} of ${allReviews.length} reviews`;
                    }
                }
            }
            
            function loadMoreReviews() {
                const startIndex = displayedReviews;
                const reviewsPerLoad = getReviewsPerLoad();
                const endIndex = Math.min(startIndex + reviewsPerLoad, allReviews.length);
                
                // Show loading spinner
                if (loadingSpinner && endIndex > startIndex) {
                    loadingSpinner.style.display = 'block';
                }
                
                // Small delay to show loading state
                setTimeout(() => {
                    for (let i = startIndex; i < endIndex; i++) {
                        const el = renderReview(allReviews[i]);
                        wrapper.append(el);
                        
                        // Add fade-in animation
                        setTimeout(() => {
                            el.classList.add('fade-in');
                        }, (i - startIndex) * 100); // Stagger animations
                        
                        const card = el.querySelector('.will-animate');
                        if (card) observer2 && observer2.observe(card);
                    }
                    
                    displayedReviews = endIndex;
                    updateLoadMoreButton();
                    
                    // Hide loading spinner
                    if (loadingSpinner) {
                        setTimeout(() => {
                            loadingSpinner.style.display = 'none';
                        }, 500);
                    }
                }, 200);
            }

            function loadReviews(){
                try {
                    allReviews = DataManager.feedback.getAll({ onlyVisible: true });
                    
                    // Load first 3 reviews immediately
                    loadMoreReviews();
                    
                } catch(e) {
                    if (loadingText) loadingText.textContent = 'Error loading reviews';
                }
            }
            
            // Load More Button Event
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', () => {
                    loadMoreReviews();
                });
            }
            
            // Auto-load more on scroll within feedback container
            let isAutoLoading = false;
            const reviewsContainer = document.querySelector('.reviews-scroll-container');
            
            function checkAutoLoadOnContainerScroll() {
                if (isAutoLoading || displayedReviews >= allReviews.length || !reviewsContainer) return;
                
                const scrollTop = reviewsContainer.scrollTop;
                const scrollHeight = reviewsContainer.scrollHeight;
                const clientHeight = reviewsContainer.clientHeight;
                
                // Check if scrolled near bottom of container (within 100px)
                const nearBottom = scrollTop + clientHeight >= scrollHeight - 100;
                
                if (nearBottom) {
                    isAutoLoading = true;
                    
                    // Small delay for smooth experience
                    setTimeout(() => {
                        loadMoreReviews();
                        isAutoLoading = false;
                    }, 200);
                }
            }
            
            // Add scroll listener to feedback container
            if (reviewsContainer) {
                reviewsContainer.addEventListener('scroll', () => {
                    // Hide scroll hint when user starts scrolling
                    reviewsContainer.classList.add('scrolled');
                    
                    // Check for auto-loading
                    checkAutoLoadOnContainerScroll();
                });
            }
            
            // Handle window resize
            window.addEventListener('resize', () => {
                updateLoadMoreButton();
            });

            if(form){
                form.addEventListener('submit', function(e){
                    e.preventDefault();
                    const data = new FormData(form);
                    const name = String(data.get('name')||'').trim() || 'Anonymous';
                    let location = String(data.get('location')||'').trim();
                    const fallbackCities = ['Kamalia','Shaiwal','Lahore','Karachi','islamabad'];
                    if(!location){ location = fallbackCities[Math.floor(Math.random()*fallbackCities.length)]; }
                    const rating = parseFloat(data.get('rating')||'5');
                    const text = String(data.get('text')||'').trim();

                    try {
                        const created = DataManager.feedback.create({ 
                            name, 
                            location, 
                            rating, 
                            text,
                            visible: true
                        });
                        
                        const el = renderReview(created);
                        wrapper.prepend(el);
                        const card = el.querySelector('.will-animate');
                        if (card) observer2 && observer2.observe(card);

                        try{
                            const modalEl = document.getElementById('addReviewModal');
                            const instance = bootstrap.Modal.getOrCreateInstance(modalEl);
                            instance.hide();
                        }catch(err){}
                        form.reset();
                        
                        // Show success message
                        alert('Thank you for your feedback!');
                    } catch (err){
                        console.error('Error submitting feedback:', err);
                        alert('Error submitting feedback. Please try again.');
                    }
                });
            }

            // Initial load from backend
            loadReviews();
        })();

        document.addEventListener("DOMContentLoaded", function () {
        const carousel = document.querySelector("#highlightsCarousel");
        const videoSlide = carousel.querySelector("video");
        const carouselInstance = new bootstrap.Carousel(carousel, {
            interval: 5000, // 5 seconds for images
            ride: false
        });

        carousel.addEventListener("slide.bs.carousel", function (event) {
            // Pause any playing video when moving away
            const videos = carousel.querySelectorAll("video");
            videos.forEach(v => v.pause());
        });

        carousel.addEventListener("slid.bs.carousel", function (event) {
            const activeSlide = carousel.querySelector(".carousel-item.active");
            const video = activeSlide.querySelector("video");

            if (video) {
            // Pause auto-slide while video plays
            carouselInstance.pause();

            // Restart carousel when video finishes
            video.play();
            video.onended = () => {
                carouselInstance.cycle();
            };
            } else {
            // Resume normal timing for image slides
            carouselInstance.cycle();
            }
        });
        });


        // Contact form submission to backend
        (function(){
            const form = document.getElementById('contactForm');
            if(!form) return;

            form.addEventListener('submit', async function(e){
                e.preventDefault();
                const fd = new FormData(form);
                const payload = {
                    name: String(fd.get('name') || '').trim(),
                    phone: String(fd.get('phone') || '').trim(),
                    email: String(fd.get('email') || '').trim(),
                    location: String(fd.get('location') || '').trim(),
                    message: String(fd.get('message') || '').trim()
                };


                try {
                    const response = await fetch('/api/messages', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const data = await response.json();

                    if (response.ok) {
                        alert("Your message has been sent successfully!");
                        form.reset();
                    } else {
                        alert("Failed to send message: " + (data.error || "Unknown error"));
                    }
                } catch(err) {
                    alert('Error submitting message. Please try again.');
                }
            });
        })();


        // Animated counters for statistics
        (function(){
            const counters = document.querySelectorAll('.counter[data-target]');
            if (!counters.length) return;

            function animateCounter(el){
                const target = parseInt(el.getAttribute('data-target'), 10);
                if (isNaN(target)) return;
                const duration = 1600; // ms
                const start = 0;
                const startTime = performance.now();

                function tick(now){
                    const progress = Math.min((now - startTime) / duration, 1);
                    const value = Math.floor(start + (target - start) * progress);
                    el.textContent = value.toString();
                    if (progress < 1) requestAnimationFrame(tick);
                }
                requestAnimationFrame(tick);
            }

            const io = new IntersectionObserver((entries, obs) =>{
                entries.forEach(entry =>{
                    if(entry.isIntersecting){
                        const el = entry.target;
                        animateCounter(el);
                        obs.unobserve(el);
                    }
                })
            }, { threshold: 0.5 });

            counters.forEach(c => io.observe(c));
        })();

        // Auto-Advance Highlights Carousel Control
        (function(){
            const highlightsSection = document.querySelector('#Highlights');
            const carousel = document.querySelector('#highlightsCarousel');
            let carouselInitialized = false;
            let bsCarousel = null;
            
            if (!highlightsSection || !carousel) return;
            
            // Intersection Observer to detect when user reaches Highlights section
            const highlightsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !carouselInitialized) {
                        // Initialize carousel when user first reaches the section
                        bsCarousel = new bootstrap.Carousel(carousel, {
                            interval: 3000,  // 3 seconds for images
                            ride: 'carousel', // Auto-start
                            wrap: true       // Allow wrapping from last to first
                        });
                        carouselInitialized = true;
                        
                        // Add keyboard navigation (still works during auto-advance)
                        document.addEventListener('keydown', function(e) {
                            if (entry.isIntersecting) {
                                if (e.key === 'ArrowRight' || e.key === ' ') {
                                    e.preventDefault();
                                    bsCarousel.next();
                                } else if (e.key === 'ArrowLeft') {
                                    e.preventDefault();
                                    bsCarousel.prev();
                                }
                            }
                        });
                        
                    }
                    
                    // Pause carousel when user leaves the section
                    if (!entry.isIntersecting && bsCarousel) {
                        bsCarousel.pause();
                    } else if (entry.isIntersecting && bsCarousel) {
                        bsCarousel.cycle();
                    }
                });
            }, { 
                threshold: 0.3, // Trigger when 30% of section is visible
                rootMargin: '0px 0px -100px 0px' // Trigger a bit earlier
            });
            
            highlightsObserver.observe(highlightsSection);
            
            // Handle video auto-play when slide changes
            carousel.addEventListener('slide.bs.carousel', function(event) {
                const currentSlide = event.relatedTarget;
                const previousSlide = event.target.querySelector('.carousel-item.active');
                
                // Pause and reset video in previous slide if it exists
                if (previousSlide) {
                    const prevVideo = previousSlide.querySelector('video');
                    if (prevVideo) {
                        prevVideo.pause();
                        prevVideo.currentTime = 0; // Reset to beginning
                    }
                }
                
                // Auto-play video in current slide if it exists
                const currentVideo = currentSlide.querySelector('video');
                if (currentVideo) {
                    setTimeout(() => {
                        currentVideo.play().catch(e => {
                            // If autoplay is blocked, user will need to click play
                        });
                    }, 500); // Small delay to ensure slide transition is complete
                }
            });
            
            // Handle when slide transition is completed
            carousel.addEventListener('slid.bs.carousel', function(event) {
                const currentSlide = event.target.querySelector('.carousel-item.active');
                const currentVideo = currentSlide.querySelector('video');
                
                // Ensure video is playing if it's the current slide
                if (currentVideo && currentVideo.paused) {
                    currentVideo.play().catch(e => {
                    });
                }
            });
        })();

        // Availability data on public page
        (function(){
            const weekOrder = ['mon','tue','wed','thu','fri','sat','sun'];
            const weekLabels = { mon:'Monday', tue:'Tuesday', wed:'Wednesday', thu:'Thursday', fri:'Friday', sat:'Saturday', sun:'Sunday' };
            function t12(t){
                if(!t) return '--:--';
                const [H,M] = t.split(':');
                let h = parseInt(H,10);
                const ampm = h>=12? 'PM':'AM';
                h = h%12; if(h===0) h = 12;
                return `${h}:${M} ${ampm}`;
            }
            function fillList(el, weekly){
                el.innerHTML = '';
                const todayIdx = new Date().getDay(); // 0 Sun .. 6 Sat
                weekOrder.forEach((d,idx)=>{
                    const it = weekly[d]||{}; const li = document.createElement('li');
                    li.className='list-group-item availability-row d-flex justify-content-between align-items-center';
                    if((idx+1)%7 === todayIdx) li.classList.add('is-today'); // map mon->1..sun->0
                    const label = weekLabels[d];
                    if(it.enabled){
                        li.innerHTML = `<div class=\"d-flex align-items-center gap-2\"><i class=\"bi bi-clock\"></i><strong>${label}</strong></div><div class=\"fw-semibold\">${t12(it.start)} ‚Äì ${t12(it.end)}</div>`;
                    } else {
                        li.innerHTML = `<div class=\"d-flex align-items-center gap-2\"><i class=\"bi bi-slash-circle\"></i><strong>${label}</strong></div><span class=\"badge rounded-pill bg-secondary\">Not available</span>`;
                    }
                    el.appendChild(li);
                });
            }
            function todayISO(){ const d = new Date(); return d.toISOString().slice(0,10); }
            function listExceptions(el, list){
                el.innerHTML = '';
                // Show next 5 (including today), sorted
                const now = todayISO();
                const items = (list||[]).slice().sort((a,b)=> a.date.localeCompare(b.date)).filter(x=> x.date >= now).slice(0,5);
                if(items.length===0){
                    const li = document.createElement('li');
                    li.className='list-group-item text-muted';
                    li.textContent = 'No special dates';
                    el.appendChild(li);
                    return;
                }
                items.forEach(x=>{
                    const li = document.createElement('li');
                    li.className='list-group-item d-flex justify-content-between align-items-center';
                    const reason = x.note ? ` ‚Äî ${x.note}` : '';
                    const badge = x.available ? '<span class="badge rounded-pill bg-success">Available</span>' : '<span class="badge rounded-pill bg-danger">Not available</span>';
                    li.innerHTML = `<div class=\"d-flex align-items-center gap-2\"><i class=\"bi ${x.available?'bi-check-circle':'bi-x-circle'}\"></i><strong>${x.date}</strong>${reason}</div>${badge}`;
                    el.appendChild(li);
                });
            }
            function updateAvailabilityToast(availabilityData) {
                const availabilityToastBody = document.getElementById('availabilityToastBody');
                if (!availabilityToastBody) return;

                // Determine global availability status
                const isGlobalAvailable = availabilityData.global?.is_available ?? true;
                const globalNote = availabilityData.global?.note || 'No additional information';

                // Prepare hospital availability information
                const hospitalInfo = [];
                
                // Maqsooda Hospital
                if (availabilityData.maqsooda) {
                    const todayDay = weekOrder[new Date().getDay() - 1] || 'mon'; // Adjust for 0-based index
                    const todaySchedule = availabilityData.maqsooda.weekly[todayDay] || {};
                    const isTodayAvailable = todaySchedule.enabled;
                    const todayTime = isTodayAvailable ? `${t12(todaySchedule.start)} - ${t12(todaySchedule.end)}` : 'Not available';
                    
                    hospitalInfo.push(`Maqsooda Zia Hospital: ${isTodayAvailable ? 'Open' : 'Closed'} (${todayTime})`);
                }

                // Pinum Hospital
                if (availabilityData.pinum) {
                    const todayDay = weekOrder[new Date().getDay() - 1] || 'mon'; // Adjust for 0-based index
                    const todaySchedule = availabilityData.pinum.weekly[todayDay] || {};
                    const isTodayAvailable = todaySchedule.enabled;
                    const todayTime = isTodayAvailable ? `${t12(todaySchedule.start)} - ${t12(todaySchedule.end)}` : 'Not available';
                    
                    hospitalInfo.push(`PINUM Hospital: ${isTodayAvailable ? 'Open' : 'Closed'} (${todayTime})`);
                }

                // Construct toast message
                const toastMessage = `
                    <hr class="my-2">
                    <strong>Today's Hospitals:</strong>
                    <ul class="list-unstyled mb-0">
                        ${hospitalInfo.map(info => `<li>${info}</li>`).join('')}
                    </ul>
                `;

                availabilityToastBody.innerHTML = toastMessage;

                // Show the toast
                const availabilityToast = new bootstrap.Toast(document.getElementById('availabilityToast'), {
                    delay: 0, // Disable auto-dismiss
                    autohide: false // Prevent automatic hiding
                });
                availabilityToast.show();
                
                // Ensure the toast remains visible
                const toastElement = document.getElementById('availabilityToast');
                if (toastElement) {
                    toastElement.classList.add('show');
                    toastElement.style.display = 'block';
                }
            }
            function load(){
                try{ 
                    
                    // Fetch global availability and hospital availability in parallel
                    Promise.all([
                        fetch('/api/global-availability', {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                                'Accept': 'application/json'
                            }
                        }),
                        fetch('/api/availability', {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                                'Accept': 'application/json'
                            }
                        })
                    ])
                    .then(([globalResponse, availabilityResponse]) => {
                        // Check responses
                        if (!globalResponse.ok) {
                            console.warn('Global availability fetch failed');
                            throw new Error('Global availability fetch failed');
                        }
                        if (!availabilityResponse.ok) {
                            console.warn('Hospital availability fetch failed');
                            throw new Error('Hospital availability fetch failed');
                        }

                        // Parse responses
                        return Promise.all([
                            globalResponse.json(),
                            availabilityResponse.json()
                        ]);
                    })
                    .then(([globalAvailability, availabilityData]) => {
                        
                            // Fallback to default if no data
                            const h = {
                                maqsooda: {
                                    map_url: 'https://maps.app.goo.gl/cU9nygR1CJXUJMGr6',
                                    weekly: {
                                        mon: { enabled: true, start: "15:00", end: "18:00" },
                                        tue: { enabled: true, start: "15:00", end: "18:00" },
                                        wed: { enabled: true, start: "15:00", end: "18:00" },
                                        thu: { enabled: true, start: "15:00", end: "18:00" },
                                        fri: { enabled: true, start: "15:00", end: "18:00" },
                                        sat: { enabled: false, start: "15:00", end: "18:00" },
                                        sun: { enabled: false }
                                    },
                                    exceptions: []
                                },
                                pinum: {
                                    map_url: 'https://maps.google.com',
                                    weekly: {
                                        mon: { enabled: true, start: "08:00", end: "14:00" },
                                        tue: { enabled: true, start: "08:00", end: "14:00" },
                                        wed: { enabled: false, start: "08:00", end: "14:00" },
                                        thu: { enabled: true, start: "08:00", end: "14:00" },
                                        fri: { enabled: true, start: "08:00", end: "12:30" },
                                        sat: { enabled: true, start: "08:00", end: "14:00" },
                                        sun: { enabled: true, start: "07:15", end: "14:30" }
                                    },
                                    exceptions: []
                                }
                            };

                        // Merge fetched data with defaults
                        if (availabilityData.maqsooda) {
                            // Prioritize database map_url over hardcoded
                            h.maqsooda.map_url = availabilityData.maqsooda.hospital_map_url || h.maqsooda.map_url;
                            h.maqsooda.weekly = availabilityData.maqsooda.weekly_schedule || h.maqsooda.weekly;
                            
                            // Ensure exceptions are loaded from database
                            h.maqsooda.exceptions = availabilityData.maqsooda.exceptions || [];
                            
                            }

                        if (availabilityData.pinum) {
                            // Prioritize database map_url over hardcoded
                            h.pinum.map_url = availabilityData.pinum.hospital_map_url || h.pinum.map_url;
                            h.pinum.weekly = availabilityData.pinum.weekly_schedule || h.pinum.weekly;
                            
                            // Ensure exceptions are loaded from database
                            h.pinum.exceptions = availabilityData.pinum.exceptions || [];
                            
                            }

                        // Prepare data for toast
                        const toastData = {
                            global: globalAvailability.data,
                            maqsooda: h.maqsooda,
                            pinum: h.pinum
                        };

                        // Update availability toast with real data
                        updateAvailabilityToast(toastData);


                            // Maqsooda
                        const mzLocationLink = document.getElementById('mzLocationLink');
                        const mzWeeklyList = document.getElementById('mzWeeklyList');
                        const mzExceptions = document.getElementById('mzExceptions');

                        if (mzLocationLink) {
                            mzLocationLink.href = h.maqsooda.map_url || '#';
                        }
                        if (mzWeeklyList) fillList(mzWeeklyList, h.maqsooda.weekly);
                        if (mzExceptions) {
                            listExceptions(mzExceptions, h.maqsooda.exceptions);
                        }
                            
                            // Pinum
                        const pinumLocationLink = document.getElementById('pinumLocationLink');
                        const pinumWeeklyList = document.getElementById('pinumWeeklyList');
                        const pinumExceptions = document.getElementById('pinumExceptions');

                        if (pinumLocationLink) {
                            pinumLocationLink.href = h.pinum.map_url || '#';
                        }
                        if (pinumWeeklyList) fillList(pinumWeeklyList, h.pinum.weekly);
                        if (pinumExceptions) {
                            listExceptions(pinumExceptions, h.pinum.exceptions);
                        }

                        // Ensure highlights carousel is initialized
                        initHighlightsCarousel();
                        })
                        .catch(error => {
                            console.error('Error fetching availability:', error);
                            // Fallback to default data if fetch fails
                            const h = {
                                maqsooda: {
                                    map_url: 'https://maps.app.goo.gl/cU9nygR1CJXUJMGr6',
                                    weekly: {
                                        mon: { enabled: true, start: "15:00", end: "18:00" },
                                        tue: { enabled: true, start: "15:00", end: "18:00" },
                                        wed: { enabled: true, start: "15:00", end: "18:00" },
                                        thu: { enabled: true, start: "15:00", end: "18:00" },
                                        fri: { enabled: true, start: "15:00", end: "18:00" },
                                        sat: { enabled: false, start: "15:00", end: "18:00" },
                                        sun: { enabled: false }
                                    },
                                    exceptions: []
                                },
                                pinum: {
                                    map_url: 'https://maps.google.com',
                                    weekly: {
                                        mon: { enabled: true, start: "08:00", end: "14:00" },
                                        tue: { enabled: true, start: "08:00", end: "14:00" },
                                        wed: { enabled: false, start: "08:00", end: "14:00" },
                                        thu: { enabled: true, start: "08:00", end: "14:00" },
                                        fri: { enabled: true, start: "08:00", end: "12:30" },
                                        sat: { enabled: true, start: "08:00", end: "14:00" },
                                        sun: { enabled: true, start: "07:15", end: "14:30" }
                                    },
                                    exceptions: []
                                }
                            };

                            // Maqsooda
                        const mzLocationLink = document.getElementById('mzLocationLink');
                        const mzWeeklyList = document.getElementById('mzWeeklyList');
                        const mzExceptions = document.getElementById('mzExceptions');

                        if (mzLocationLink) mzLocationLink.href = h.maqsooda.map_url || '#';
                        if (mzWeeklyList) fillList(mzWeeklyList, h.maqsooda.weekly);
                        if (mzExceptions) listExceptions(mzExceptions, h.maqsooda.exceptions);
                            
                            // Pinum
                        const pinumLocationLink = document.getElementById('pinumLocationLink');
                        const pinumWeeklyList = document.getElementById('pinumWeeklyList');
                        const pinumExceptions = document.getElementById('pinumExceptions');

                        if (pinumLocationLink) pinumLocationLink.href = h.pinum.map_url || '#';
                        if (pinumWeeklyList) fillList(pinumWeeklyList, h.pinum.weekly);
                        if (pinumExceptions) listExceptions(pinumExceptions, h.pinum.exceptions);

                        // Ensure highlights carousel is initialized
                        initHighlightsCarousel();
                        });
                }catch(e){
                    console.error('Error loading hospital data:', e);
                }
            }

            // Highlights Carousel Initialization
            function initHighlightsCarousel() {
                const highlightsCarousel = document.getElementById('highlightsCarousel');
                if (!highlightsCarousel) {
                    console.warn('Highlights Carousel element not found');
                    return;
                }

                // Ensure Bootstrap Carousel is available
                if (typeof bootstrap === 'undefined' || !bootstrap.Carousel) {
                    console.error('Bootstrap Carousel not loaded');
                    return;
                }

                // Initialize the carousel
                const carousel = new bootstrap.Carousel(highlightsCarousel, {
                    interval: 3000, // 3 seconds
                    ride: 'carousel'
                });

            }

            // Initialize on DOM load
            document.addEventListener('DOMContentLoaded', () => {
            load();
            });
        })();
        
        // // Articles Slider Navigation
        // (function(){
        //     const articlesWrapper = document.getElementById('articlesSliderWrapper');
        //     const scrollLeftBtn = document.getElementById('articleScrollLeft');
        //     const scrollRightBtn = document.getElementById('articleScrollRight');
        //     const prevBtn = document.getElementById('articlePrevBtn');
        //     const nextBtn = document.getElementById('articleNextBtn');
            
        //     if (!articlesWrapper || !scrollLeftBtn || !scrollRightBtn) return;
            
        //     let currentIndex = 0;
        //     const slides = document.querySelectorAll('.article-slide');
        //     const totalSlides = slides.length;
            
        //     // Calculate how many slides to show at a time (2 on desktop, 1 on mobile)
        //     function getSlidesPerView() {
        //         return window.innerWidth <= 768 ? 1 : 2;
        //     }
            
        //     // Calculate slide width including gap
        //     function getSlideWidth() {
        //         const slidesPerView = getSlidesPerView();
        //         if (slidesPerView === 1) {
        //             return 100; // 100% for mobile
        //         } else {
        //             return 50 + (30 / (articlesWrapper.offsetWidth / 100)); // 50% + gap percentage
        //         }
        //     }
            
        //     // Update slider position
        //     function updateSlider() {
        //         const slideWidth = getSlideWidth();
        //         const translateX = -currentIndex * slideWidth;
        //         articlesWrapper.style.transform = `translateX(${translateX}%)`;
                
        //         // Update button states
        //         updateButtonStates();
        //     }
            
        //     // Check if internal buttons should be active based on screen size
        //     function areInternalButtonsVisible() {
        //         return window.innerWidth >= 1200;
        //     }
            
        //     // Update button visibility and states
        //     function updateButtonStates() {
        //         const slidesPerView = getSlidesPerView();
        //         const maxIndex = totalSlides - slidesPerView;
                
        //         // External arrow buttons
        //         scrollLeftBtn.style.opacity = currentIndex <= 0 ? '0.5' : '1';
        //         scrollLeftBtn.style.pointerEvents = currentIndex <= 0 ? 'none' : 'auto';
        //         scrollRightBtn.style.opacity = currentIndex >= maxIndex ? '0.5' : '1';
        //         scrollRightBtn.style.pointerEvents = currentIndex >= maxIndex ? 'none' : 'auto';
                
        //         // Internal navigation buttons (only if visible on large screens)
        //         if (prevBtn && nextBtn && areInternalButtonsVisible()) {
        //             prevBtn.style.opacity = currentIndex <= 0 ? '0.6' : '1';
        //             prevBtn.style.pointerEvents = currentIndex <= 0 ? 'none' : 'auto';
        //             nextBtn.style.opacity = currentIndex >= maxIndex ? '0.6' : '1';
        //             nextBtn.style.pointerEvents = currentIndex >= maxIndex ? 'none' : 'auto';
        //         }
        //     }
            
        //     // Navigation functions
        //     function goToPrevious() {
        //         if (currentIndex > 0) {
        //             currentIndex--;
        //             updateSlider();
        //         }
        //     }
            
        //     function goToNext() {
        //         const slidesPerView = getSlidesPerView();
        //         const maxIndex = totalSlides - slidesPerView;
        //         if (currentIndex < maxIndex) {
        //             currentIndex++;
        //             updateSlider();
        //         }
        //     }
            
        //     // External arrow button clicks
        //     scrollLeftBtn.addEventListener('click', goToPrevious);
        //     scrollRightBtn.addEventListener('click', goToNext);
            
        //     // Internal navigation button clicks
        //     if (prevBtn && nextBtn) {
        //         prevBtn.addEventListener('click', goToPrevious);
        //         nextBtn.addEventListener('click', goToNext);
        //     }
            
        //     // Handle window resize
        //     window.addEventListener('resize', () => {
        //         // Reset to first slide on resize to avoid layout issues
        //         currentIndex = 0;
        //         updateSlider();
        //     });
            
        //     // Keyboard navigation
        //     document.addEventListener('keydown', (e) => {
        //         const articlesSection = document.getElementById('Blog');
        //         if (!articlesSection) return;
                
        //         const rect = articlesSection.getBoundingClientRect();
        //         const isInView = rect.top < window.innerHeight && rect.bottom > 0;
                
        //         if (isInView) {
        //             if (e.key === 'ArrowLeft') {
        //                 e.preventDefault();
        //                 scrollLeftBtn.click();
        //             } else if (e.key === 'ArrowRight') {
        //                 e.preventDefault();
        //                 scrollRightBtn.click();
        //             }
        //         }
        //     });
            
        //     // Auto-slide functionality with progress indicator
        //     let autoSlideInterval;
        //     let progressInterval;
        //     let countdownInterval;
        //     const progressBar = document.getElementById('articleProgressBar');
        //     const countdownElement = document.getElementById('articleCountdown');
        //     const progressContainer = document.querySelector('.article-progress-container');
            
        //     function startAutoSlide() {
        //         if (autoSlideInterval) clearInterval(autoSlideInterval);
        //         if (progressInterval) clearInterval(progressInterval);
        //         if (countdownInterval) clearInterval(countdownInterval);
                
        //         let timeLeft = 5; // 5 seconds
        //         let progressWidth = 0;
                
        //         // Reset progress
        //         if (progressBar) {
        //             progressBar.style.setProperty('--progress-width', '0%');
        //             progressBar.style.background = 'linear-gradient(90deg, #3face4 var(--progress-width, 0%), rgba(63, 172, 228, 0.2) var(--progress-width, 0%))';
        //         }
        //         if (countdownElement) countdownElement.textContent = timeLeft;
        //         if (progressContainer) progressContainer.classList.remove('paused');
                
        //         // Update countdown every second
        //         countdownInterval = setInterval(() => {
        //             timeLeft--;
        //             if (countdownElement) countdownElement.textContent = Math.max(timeLeft, 0);
        //         }, 1000);
                
        //         // Update progress bar smoothly
        //         progressInterval = setInterval(() => {
        //             progressWidth += 2; // Increase by 2% every 100ms (100ms * 50 = 5000ms)
        //             if (progressBar) {
        //                 progressBar.style.background = `linear-gradient(90deg, #3face4 ${progressWidth}%, rgba(63, 172, 228, 0.2) ${progressWidth}%)`;
        //             }
        //             if (progressWidth >= 100) {
        //                 clearInterval(progressInterval);
        //             }
        //         }, 100);
                
        //         // Main auto-slide timer
        //         autoSlideInterval = setInterval(() => {
        //             const slidesPerView = getSlidesPerView();
        //             const maxIndex = totalSlides - slidesPerView;
                    
        //             if (currentIndex < maxIndex) {
        //                 currentIndex++;
        //             } else {
        //                 currentIndex = 0; // Loop back to start
        //             }
        //             updateSlider();
                    
        //             // Restart progress after slide change
        //             setTimeout(startProgressAnimation, 100);
        //         }, 5000); // Each article displays for exactly 5 seconds
                
        //         // Start initial progress animation
        //         setTimeout(startProgressAnimation, 100);
        //     }
            
        //     function startProgressAnimation() {
        //         if (!autoSlideInterval) return; // Don't start if auto-slide is stopped
                
        //         let timeLeft = 5;
        //         let progressWidth = 0;
                
        //         if (progressBar) {
        //             progressBar.style.background = 'linear-gradient(90deg, #3face4 0%, rgba(63, 172, 228, 0.2) 0%)';
        //         }
        //         if (countdownElement) countdownElement.textContent = timeLeft;
                
        //         if (countdownInterval) clearInterval(countdownInterval);
        //         if (progressInterval) clearInterval(progressInterval);
                
        //         countdownInterval = setInterval(() => {
        //             timeLeft--;
        //             if (countdownElement) countdownElement.textContent = Math.max(timeLeft, 0);
        //         }, 1000);
                
        //         progressInterval = setInterval(() => {
        //             progressWidth += 2;
        //             if (progressBar) {
        //                 progressBar.style.background = `linear-gradient(90deg, #3face4 ${progressWidth}%, rgba(63, 172, 228, 0.2) ${progressWidth}%)`;
        //             }
        //             if (progressWidth >= 100) {
        //                 clearInterval(progressInterval);
        //             }
        //         }, 100);
        //     }
            
        //     function stopAutoSlide() {
        //         if (autoSlideInterval) {
        //             clearInterval(autoSlideInterval);
        //             autoSlideInterval = null;
        //         }
        //         if (progressInterval) {
        //             clearInterval(progressInterval);
        //             progressInterval = null;
        //         }
        //         if (countdownInterval) {
        //             clearInterval(countdownInterval);
        //             countdownInterval = null;
        //         }
                
        //         // Show paused state
        //         if (progressContainer) {
        //             progressContainer.classList.add('paused');
        //         }
        //         if (countdownElement) {
        //             countdownElement.textContent = 'Paused';
        //         }
        //     }
            
        //     // Start auto-slide on load
        //     startAutoSlide();
            
        //     // Pause auto-slide on hover
        //     articlesWrapper.addEventListener('mouseenter', stopAutoSlide);
        //     scrollLeftBtn.addEventListener('mouseenter', stopAutoSlide);
        //     scrollRightBtn.addEventListener('mouseenter', stopAutoSlide);
            
        //     // Internal buttons hover - only add listeners if buttons exist
        //     if (prevBtn && nextBtn) {
        //         prevBtn.addEventListener('mouseenter', () => {
        //             if (areInternalButtonsVisible()) stopAutoSlide();
        //         });
        //         nextBtn.addEventListener('mouseenter', () => {
        //             if (areInternalButtonsVisible()) stopAutoSlide();
        //         });
        //     }
            
        //     // Resume auto-slide when not hovering
        //     articlesWrapper.addEventListener('mouseleave', startAutoSlide);
        //     scrollLeftBtn.addEventListener('mouseleave', startAutoSlide);
        //     scrollRightBtn.addEventListener('mouseleave', startAutoSlide);
            
        //     // Internal buttons mouse leave
        //     if (prevBtn && nextBtn) {
        //         prevBtn.addEventListener('mouseleave', () => {
        //             if (areInternalButtonsVisible()) startAutoSlide();
        //         });
        //         nextBtn.addEventListener('mouseleave', () => {
        //             if (areInternalButtonsVisible()) startAutoSlide();
        //         });
        //     }
            
        //     // Touch and Mouse Drag/Swipe Functionality
        //     let startX = 0;
        //     let currentX = 0;
        //     let isDragging = false;
        //     let startTime = 0;
        //     const minSwipeDistance = 50; // Minimum distance for a swipe
        //     const maxSwipeTime = 300; // Maximum time for a swipe (ms)
            
        //     // Touch Events
        //     articlesWrapper.addEventListener('touchstart', handleStart, { passive: true });
        //     articlesWrapper.addEventListener('touchmove', handleMove, { passive: true });
        //     articlesWrapper.addEventListener('touchend', handleEnd, { passive: true });
            
        //     // Mouse Events for desktop drag
        //     articlesWrapper.addEventListener('mousedown', handleStart);
        //     articlesWrapper.addEventListener('mousemove', handleMove);
        //     articlesWrapper.addEventListener('mouseup', handleEnd);
        //     articlesWrapper.addEventListener('mouseleave', handleEnd);
            
        //     // Prevent default drag behavior on images
        //     articlesWrapper.addEventListener('dragstart', (e) => {
        //         e.preventDefault();
        //     });
            
        //     function handleStart(e) {
        //         startTime = Date.now();
        //         isDragging = true;
                
        //         if (e.type === 'touchstart') {
        //             startX = e.touches[0].clientX;
        //         } else {
        //             startX = e.clientX;
        //             articlesWrapper.style.cursor = 'grabbing';
        //         }
                
        //         currentX = startX;
        //         stopAutoSlide(); // Pause auto-slide during interaction
        //     }
            
        //     function handleMove(e) {
        //         if (!isDragging) return;
                
        //         if (e.type === 'touchmove') {
        //             currentX = e.touches[0].clientX;
        //         } else {
        //             currentX = e.clientX;
        //         }
        //     }
            
        //     function handleEnd(e) {
        //         if (!isDragging) return;
                
        //         isDragging = false;
        //         const endTime = Date.now();
        //         const timeDiff = endTime - startTime;
        //         const distance = currentX - startX;
        //         const absDistance = Math.abs(distance);
                
        //         if (e.type !== 'touchend') {
        //             articlesWrapper.style.cursor = 'grab';
        //         }
                
        //         // Check if it's a valid swipe
        //         if (absDistance >= minSwipeDistance && timeDiff <= maxSwipeTime) {
        //             if (distance > 0) {
        //                 // Swipe right - go to previous
        //                 goToPrevious();
        //             } else {
        //                 // Swipe left - go to next
        //                 goToNext();
        //             }
        //         }
                
        //         startAutoSlide(); // Resume auto-slide
        //     }
            
        //     // Set initial cursor style
        //     articlesWrapper.style.cursor = 'grab';
            
        //     // Initialize slider
        //     updateSlider();
        // })();

        // Feedback Fetching and Display
        function fetchAndDisplayFeedback() {
            // Fetch visible feedbacks only
            fetch('/api/feedback?limit=6', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                const reviewsWrapper = document.getElementById('reviewsScrollWrapper');
                
                if (!reviewsWrapper) {
                    console.error('Reviews wrapper not found');
                    return;
                }

                // Clear existing content
                reviewsWrapper.innerHTML = '';
                
                // Ensure proper grid layout
                reviewsWrapper.style.cssText = `
                    display: grid !important;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
                    gap: 20px !important;
                    padding: 20px !important;
                    min-height: 100% !important;
                `;

                // Check if we have any feedbacks
                if (!data.data || data.data.length === 0) {
                    reviewsWrapper.innerHTML = `
                        <div class="review-item">
                            <div class="review-card text-center p-4">
                                <p class="text-muted">No feedback available at the moment.</p>
                            </div>
                        </div>
                    `;
                    return;
                }

                // Generate review items
                data.data.forEach((feedback, index) => {
                    const reviewItem = document.createElement('div');
                    reviewItem.className = 'review-item';
                    
                    // Star rating generation
                    const renderStars = (rating) => {
                        const numRating = parseFloat(rating) || 5;
                        const fullStars = Math.floor(numRating);
                        const hasHalfStar = numRating - fullStars >= 0.5;
                        
                        let stars = '';
                        for (let i = 0; i < fullStars; i++) {
                            stars += '<i class="bi bi-star-fill"></i>';
                        }
                        if (hasHalfStar) {
                            stars += '<i class="bi bi-star-half"></i>';
                        }
                        for (let i = fullStars + (hasHalfStar ? 1 : 0); i < 5; i++) {
                            stars += '<i class="bi bi-star"></i>';
                        }
                        return stars;
                    };

                    // Create professional feedback card
                    reviewItem.innerHTML = `
                        <div class="review-card" style="
                            background: #f8fbff;
                            border-radius: 16px;
                            padding: 20px;
                            box-shadow: 0 12px 28px rgba(0,0,0,0.08);
                            border: 1px solid rgba(0,0,0,0.05);
                            transition: transform 0.35s ease, box-shadow 0.35s ease;
                            height: 100%;
                            text-align: center;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                        ">
                            <div class="review-avatar" style="
                                width: 56px;
                                height: 56px;
                                border-radius: 50%;
                                background: #24353f;
                                color: white;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 26px;
                                margin: 0 auto 15px auto;
                                box-shadow: 0 10px 25px rgba(0,0,0,0.15);
                            ">
                                <i class="bi bi-person-fill"></i>
                            </div>
                            <div class="reviewer" style="margin-bottom: 15px;">
                                <div class="name" style="font-weight: bold; font-size: 1.1rem; color: #333;">
                                    ${feedback.name || 'Anonymous'}
                                </div>
                                <div class="location" style="color: #666; font-size: 0.9rem;">
                                    ${feedback.location || ''}
                                </div>
                            </div>
                            <div class="rating" style="margin-bottom: 15px;">
                                <div class="stars" style="color: #f5c518; font-size: 18px; margin-bottom: 5px;">
                                    ${renderStars(feedback.rating)}
                                </div>
                                <div class="rating-number" style="font-weight: bold; color: #333;">
                                    ${(parseFloat(feedback.rating) || 5).toFixed(1)}/5
                                </div>
                            </div>
                            <p class="review-text" style="color: #333; line-height: 1.7; text-align: justify; margin: 0;">
                                "${feedback.message || 'Great experience!'}"
                            </p>
                        </div>
                    `;

                    // Ensure proper display
                    reviewItem.style.cssText = `
                        display: block;
                        width: 100%;
                        height: auto;
                    `;

                    reviewsWrapper.appendChild(reviewItem);
                });
            })
            .catch(error => {
                console.error('Error fetching feedbacks:', error);
                
                const reviewsWrapper = document.getElementById('reviewsScrollWrapper');
                if (reviewsWrapper) {
                    reviewsWrapper.innerHTML = `
                        <div class="review-item">
                            <div class="review-card text-center p-4">
                                <p class="text-danger">Failed to load feedbacks. Please try again later.</p>
                            </div>
                        </div>
                    `;
                }
            });
        }

        // Feedback Submission
        function submitFeedback(event) {
            // Prevent default form submission
            event.preventDefault();
            
            
            // Get form elements
            const feedbackForm = document.getElementById('feedbackForm');
            const nameInput = document.getElementById('feedbackName');
            const locationInput = document.getElementById('feedbackLocation');
            const messageInput = document.getElementById('feedbackMessage');
            const ratingInput = document.querySelector('select[name="rating"]');
            
            // Validate form elements exist
            if (!feedbackForm || !nameInput || !locationInput || !messageInput || !ratingInput) {
                console.error('One or more form elements are missing');
                alert('Error: Form elements are missing. Please check the form.');
                return;
            }
            
            // Validate inputs
            const name = nameInput.value.trim();
            const location = locationInput.value.trim();
            const message = messageInput.value.trim();
            const rating = parseFloat(ratingInput.value);

            // Validate inputs
            const validationErrors = [];
            if (!name) validationErrors.push('Name is required');
            if (!location) validationErrors.push('Location is required');
            if (!message) validationErrors.push('Message is required');
            if (isNaN(rating) || ![3.0, 3.5, 4.0, 4.5, 5.0].includes(rating)) {
                validationErrors.push('Invalid rating');
            }

            if (validationErrors.length > 0) {
                console.error('Validation Errors:', validationErrors);
                
                // Show validation error toast
                const errorToast = new bootstrap.Toast(document.getElementById('feedbackErrorToast'));
                document.getElementById('feedbackErrorMessage').textContent = 
                    validationErrors.join(', ');
                errorToast.show();
                return;
            }

            const payload = {
                name: name,
                location: location,
                message: message,
                rating: rating
            };

            // Disable submit button to prevent multiple submissions
            const submitButton = feedbackForm.querySelector('button[type="submit"]');
            if (submitButton) {
                submitButton.disabled = true;
                submitButton.innerHTML = 'Submitting...';
            }

            fetch('/api/feedback', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .then(response => {
                // Log response body for debugging
                return response.text().then(text => {
                    // Try to parse the text as JSON
                    try {
                        return JSON.parse(text);
                    } catch (parseError) {
                        console.error('Failed to parse response:', parseError);
                        throw new Error(`Unexpected response: ${text}`);
                    }
                });
            })
            .then(data => {
                // Show success message
                const successToast = new bootstrap.Toast(document.getElementById('feedbackSuccessToast'));
                successToast.show();

                // Reset form
                nameInput.value = '';
                locationInput.value = '';
                messageInput.value = '';
                ratingInput.value = '5.0';
                
                // Close the modal
                const modalElement = document.getElementById('addReviewModal');
                if (modalElement) {
                    const modalInstance = bootstrap.Modal.getInstance(modalElement);
                    if (modalInstance) {
                        modalInstance.hide();
                    }
                }
                
                // Refresh feedback display
                fetchAndDisplayFeedback();
            })
            .catch(error => {
                console.error('Error submitting feedback:', error);
                
                // Show error toast
                const errorToast = new bootstrap.Toast(document.getElementById('feedbackErrorToast'));
                document.getElementById('feedbackErrorMessage').textContent = 
                    `Failed to submit feedback: ${error.message}`;
                errorToast.show();
            })
            .finally(() => {
                // Re-enable submit button
                if (submitButton) {
                    submitButton.disabled = false;
                    submitButton.innerHTML = 'Submit Feedback';
                }
            });
        }
        
        // Contact Form Submission
        function submitContactForm(event) {
            event.preventDefault();

            const contactForm = document.getElementById('contactForm');
            const name = contactForm.querySelector('input[name="name"]').value.trim();
            const phone = contactForm.querySelector('input[name="phone"]').value.trim();
            const email = contactForm.querySelector('input[name="email"]').value.trim();
            const location = contactForm.querySelector('input[name="location"]').value.trim();
            const message = contactForm.querySelector('textarea[name="message"]').value.trim();

            // Basic validation
            if (!name || !email || !message) {
                alert('Please fill in all required fields.');
                return;
            }

            const payload = { name, phone, email, location, message };

            const submitButton = contactForm.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.innerHTML = 'Sending...';

            fetch('/api/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (!response.ok) throw new Error('Failed to send message');
                return response.json();
            })
            .then(data => {
                alert('Message sent successfully!');
                contactForm.reset();
            })
            .catch(error => {
                console.error('Error submitting message:', error);
                alert('Failed to send message. Please try again later.');
            })
            .finally(() => {
                submitButton.disabled = false;
                submitButton.innerHTML = 'Send Message';
            });
        }

        // Attach listener
        document.addEventListener('DOMContentLoaded', () => {
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', submitContactForm);
            }
        });

        // Ensure event listener is added
        document.addEventListener('DOMContentLoaded', () => {
            const feedbackForm = document.getElementById('feedbackForm');
            
            if (feedbackForm) {
                // Remove any existing listeners to prevent multiple bindings
                feedbackForm.removeEventListener('submit', submitFeedback);
                feedbackForm.addEventListener('submit', submitFeedback);
            }
            
            // Load feedbacks on page load
            fetchAndDisplayFeedback();
        });

    </script>

        
</body>

</html>